{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documents-HDD\\\\ELRProject\\\\elrproj-repo\\\\ess-locker-registration\\\\elr-project-frontend\\\\src\\\\components\\\\pages\\\\homepage.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Homepage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      nameValue: '',\n      emailValue: '',\n      lockerValue: '',\n      lockerOpt: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  getLockerOpts() {\n    // Fetch the available locker numbers from the API\n    fetch('/lockersapi/available', {\n      method: 'get',\n      mode: 'same-origin',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      // If the request succeded, parse the JSON data.\n      // Otherwise show an empty list\n      if (res.status === 200) {\n        return res.json();\n      } else {\n        console.log('Lockers req failed (Code ' + res.status + ')');\n        return [];\n      }\n    }).then(json => this.setState({\n      lockerOpt: json\n    }));\n  }\n\n  componentWillMount() {\n    this.getLockerOpts();\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(event) {\n    // Send a request to the API to create a new locker\n    fetch('/lockersapi/new', {\n      method: 'post',\n      mode: 'same-origin',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: this.state.nameValue,\n        email: this.state.emailValue,\n        locker: this.state.lockerValue\n      })\n    }).then(res => {\n      // If the request succeeded, show the thank you page.\n      // Otherwise show the error\n      if (res.status === 200) {\n        this.props.history.push('/register/thankyou');\n      } else if (res.status >= 500) {\n        alert('An internal server error occurred, please try again later or contact the maintanter.');\n      } else {\n        res.text().then(text => alert(text));\n      }\n    });\n    event.preventDefault();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 36\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"display-4\",\n          children: \"ESS Locker Registration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            marginTop: 30\n          },\n          children: \"This is the locker registration page for the lockers in the ELW.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"display-7\",\n          children: \"Locker Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          method: \"post\",\n          onSubmit: this.handleSubmit,\n          style: {\n            maxWidth: '80%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              maxWidth: '40%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"buildingDrop\",\n              children: \"Choose building\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"buildingDrop\",\n              className: \"form-control\",\n              name: \"buildingValue\",\n              value: this.state.lockerValue,\n              onChange: this.handleChange,\n              children: [this.state.lockerOpt.map(value => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: value.number\n                }, value.number, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 30\n                }, this);\n              }), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                enabled: true,\n                children: \"Choose Building\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"ELW\",\n                enabled: true,\n                children: \"Engineering Lab Wing\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"ECS\",\n                enabled: true,\n                children: \"Engineering Computer Science Building\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              maxWidth: '20%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"inputLocker\",\n              children: \"Enter Locker Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"lockerValue\",\n              id: \"inputLocker\",\n              placeholder: \"Number\",\n              className: \"form-control\",\n              value: this.state.emailValue,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"http://localhost:3000/register\",\n              style: {\n                color: \"#000000\"\n              },\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Homepage;","map":{"version":3,"sources":["D:/Documents-HDD/ELRProject/elrproj-repo/ess-locker-registration/elr-project-frontend/src/components/pages/homepage.js"],"names":["React","Component","Link","Homepage","constructor","props","state","nameValue","emailValue","lockerValue","lockerOpt","handleChange","bind","handleSubmit","getLockerOpts","fetch","method","mode","headers","then","res","status","json","console","log","setState","componentWillMount","event","target","value","name","body","JSON","stringify","email","locker","history","push","alert","text","preventDefault","render","marginTop","maxWidth","map","number","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nclass Homepage extends Component {\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n      nameValue: '',\n      emailValue: '',\n      lockerValue: '',\n      lockerOpt: [],\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n\n  getLockerOpts() {\n    // Fetch the available locker numbers from the API\n    fetch('/lockersapi/available', {\n      method: 'get',\n      mode: 'same-origin',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n      .then(res => {\n        // If the request succeded, parse the JSON data.\n        // Otherwise show an empty list\n        if (res.status === 200) {\n          return res.json();\n        } else {\n          console.log('Lockers req failed (Code ' + res.status + ')');\n          return [];\n        }\n      })\n      .then(json => this.setState({ lockerOpt: json }));\n  }\n\n  componentWillMount() {\n    this.getLockerOpts();\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  handleSubmit(event) {\n    // Send a request to the API to create a new locker\n    fetch('/lockersapi/new', {\n      method: 'post',\n      mode: 'same-origin',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name: this.state.nameValue,\n        email: this.state.emailValue,\n        locker: this.state.lockerValue,\n      }),\n    })\n      .then(res => {\n        // If the request succeeded, show the thank you page.\n        // Otherwise show the error\n        if (res.status === 200) {\n          this.props.history.push('/register/thankyou');\n        } else if (res.status >= 500) {\n          alert(\n            'An internal server error occurred, please try again later or contact the maintanter.'\n          );\n        } else {\n          res.text().then(text => alert(text));\n        }\n      });\n\n    event.preventDefault();\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"container\"><br/>\n            <h1 className=\"display-4\">ESS Locker Registration</h1>\n            \n            <p style={{marginTop: 30}}>\n              This is the locker registration page for the lockers in the ELW.\n            </p>\n            <br/>\n\n              <h2 className=\"display-7\">Locker Search</h2>\n              <form method=\"post\" onSubmit={this.handleSubmit} style={{ maxWidth: '80%'}}>\n\n\n                <div className=\"form-group\" style={{ maxWidth: '40%' }}>\n                  <label htmlFor=\"buildingDrop\">Choose building</label>\n                  <select id=\"buildingDrop\" className=\"form-control\" name=\"buildingValue\"\n                    value={this.state.lockerValue} onChange={this.handleChange}>\n                    {this.state.lockerOpt.map(value => {\n                      return <option key={value.number}>{value.number}</option>;\n                    })}\n                    <option value=\"\" enabled>Choose Building</option>\n                    <option value=\"ELW\" enabled>Engineering Lab Wing</option>\n                    <option value=\"ECS\" enabled>Engineering Computer Science Building</option>\n                  </select>\n                </div>\n\n                <div className=\"form-group\" style={{ maxWidth: '20%' }}>\n                  <label htmlFor=\"inputLocker\">Enter Locker Number</label>\n                  <input type=\"number\" name=\"lockerValue\" id=\"inputLocker\" placeholder=\"Number\"\n                    className=\"form-control\" value={this.state.emailValue} onChange={this.handleChange}\n                  />\n                </div>\n\n                {/*<input type=\"submit\" className=\"btn btn-primary\" value=\"Search\" />*/}\n                <button className=\"btn btn-primary\">\n                  <a href = \"http://localhost:3000/register\" style={{color: \"#000000\"}}>\n                    Search\n                  </a>\n                </button>\n              </form>\n            </div>\n          </div>\n    );\n  }\n\n}\nexport default Homepage;\n"]},"metadata":{},"sourceType":"module"}