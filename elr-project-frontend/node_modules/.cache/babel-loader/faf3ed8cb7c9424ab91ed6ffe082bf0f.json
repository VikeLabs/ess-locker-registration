{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documents-HDD\\\\ELRProject\\\\elrproj-repo\\\\ess-locker-registration\\\\elr-project-frontend\\\\src\\\\components\\\\pages\\\\register.js\";\nimport React, { Component } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Register extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      nameValue: '',\n      emailValue: '',\n      lockerValue: '',\n      lockerOpt: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  getLockerOpts() {\n    // Fetch the available locker numbers from the API\n    fetch('/lockersapi/available', {\n      method: 'get',\n      mode: 'same-origin',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      // If the request succeded, parse the JSON data.\n      // Otherwise show an empty list\n      if (res.status === 200) {\n        return res.json();\n      } else {\n        console.log('Lockers req failed (Code ' + res.status + ')');\n        return [];\n      }\n    }).then(json => this.setState({\n      lockerOpt: json\n    }));\n  }\n\n  componentWillMount() {\n    this.getLockerOpts();\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(event) {\n    // Send a request to the API to create a new locker\n    fetch('/lockersapi/new', {\n      method: 'post',\n      mode: 'same-origin',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: this.state.nameValue,\n        email: this.state.emailValue,\n        locker: this.state.lockerValue\n      })\n    }).then(res => {\n      // If the request succeeded, show the thank you page.\n      // Otherwise show the error\n      if (res.status === 200) {\n        this.props.history.push('/register/thankyou');\n      } else if (res.status >= 500) {\n        alert('An internal server error occurred, please try again later or contact the maintanter.');\n      } else {\n        res.text().then(text => alert(text));\n      }\n    });\n    event.preventDefault();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"display-4\",\n        style: {\n          marginTop: 30\n        },\n        children: \"Register This Locker\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 86\n      }, this), \"The Locker #202 in the ELW is unregisterd. \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 52\n      }, this), \"If you would like to register this locker please fill out the form below.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 82\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 87\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        method: \"post\",\n        onSubmit: this.handleSubmit,\n        style: {\n          maxWidth: '40%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"inputName\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"nameValue\",\n            placeholder: \"Enter name\",\n            className: \"form-control\",\n            value: this.state.nameValue,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"inputEmail\",\n            children: \"Email address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"emailValue\",\n            id: \"inputEmail\",\n            placeholder: \"Enter email\",\n            className: \"form-control\",\n            value: this.state.emailValue,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            id: \"emailHelp\",\n            className: \"form-text text-muted\",\n            children: \"Your email will not be shared with anyone else. We will send you messages regarding the status of your reservation.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"tos\",\n            name: \"tos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"scales\",\n            children: \"I achnowledge that these services are offered with no guarantee, and we reserve the right to cut your lock at any time. We will keep locker contents for a few months. \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"http://localhost:3000/thankyou\",\n            style: {\n              color: \"#000000\"\n            },\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["D:/Documents-HDD/ELRProject/elrproj-repo/ess-locker-registration/elr-project-frontend/src/components/pages/register.js"],"names":["React","Component","Register","constructor","props","state","nameValue","emailValue","lockerValue","lockerOpt","handleChange","bind","handleSubmit","getLockerOpts","fetch","method","mode","headers","then","res","status","json","console","log","setState","componentWillMount","event","target","value","name","body","JSON","stringify","email","locker","history","push","alert","text","preventDefault","render","marginTop","maxWidth","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nclass Register extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      nameValue: '',\n      emailValue: '',\n      lockerValue: '',\n      lockerOpt: [],\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  getLockerOpts() {\n    // Fetch the available locker numbers from the API\n    fetch('/lockersapi/available', {\n      method: 'get',\n      mode: 'same-origin',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n      .then(res => {\n        // If the request succeded, parse the JSON data.\n        // Otherwise show an empty list\n        if (res.status === 200) {\n          return res.json();\n        } else {\n          console.log('Lockers req failed (Code ' + res.status + ')');\n          return [];\n        }\n      })\n      .then(json => this.setState({ lockerOpt: json }));\n  }\n\n  componentWillMount() {\n    this.getLockerOpts();\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  handleSubmit(event) {\n    // Send a request to the API to create a new locker\n    fetch('/lockersapi/new', {\n      method: 'post',\n      mode: 'same-origin',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name: this.state.nameValue,\n        email: this.state.emailValue,\n        locker: this.state.lockerValue,\n      }),\n    })\n      .then(res => {\n        // If the request succeeded, show the thank you page.\n        // Otherwise show the error\n        if (res.status === 200) {\n          this.props.history.push('/register/thankyou');\n        } else if (res.status >= 500) {\n          alert(\n            'An internal server error occurred, please try again later or contact the maintanter.'\n          );\n        } else {\n          res.text().then(text => alert(text));\n        }\n      });\n\n    event.preventDefault();\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <h1 className=\"display-4\" style = {{marginTop:30}}>Register This Locker</h1> <br/>\n\n        The Locker #202 in the ELW is unregisterd. <br/>\n        If you would like to register this locker please fill out the form below.<br/><br/>\n\n        <form method=\"post\" onSubmit={this.handleSubmit} style={{ maxWidth: '40%'}}>\n          <div className=\"form-group\">\n            <label htmlFor=\"inputName\">Name</label>\n            <input type=\"text\" name=\"nameValue\" placeholder=\"Enter name\" className=\"form-control\"\n              value={this.state.nameValue} onChange={this.handleChange}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"inputEmail\">Email address</label>\n            <input type=\"email\" name=\"emailValue\" id=\"inputEmail\" placeholder=\"Enter email\"\n              className=\"form-control\" value={this.state.emailValue} onChange={this.handleChange}\n            />\n            <small id=\"emailHelp\" className=\"form-text text-muted\">\n              Your email will not be shared with anyone else. We will send you messages\n              regarding the status of your reservation.\n            </small>\n          </div>\n          \n          <div>\n          <input type=\"checkbox\" id=\"tos\" name=\"tos\"/>\n          <label for=\"scales\">I achnowledge that these services are offered with no guarantee, and we \n          reserve the right to cut your lock at any time. We will keep locker contents for a few months. </label>\n          </div><br/>\n\n          {/*<input type=\"submit\" className=\"btn btn-primary\" value=\"Register\" />*/}\n          <button className=\"btn btn-primary\">\n                  <a href = \"http://localhost:3000/thankyou\" style={{color: \"#000000\"}}>\n                    Register\n                  </a>\n                </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}